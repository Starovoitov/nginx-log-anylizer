<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>rbui log analysis report</title>
  <meta name="description" content="rbui log analysis report">
  <style type="text/css">
    html, body {
      background-color: black;
    }
    th {
      text-align: center;
      color: silver;
      font-style: bold;
      padding: 5px;
      cursor: pointer;
    }
    table {
      width: auto;
      border-collapse: collapse;
      margin: 1%;
      color: silver;
    }
    td {
      text-align: right;
      font-size: 1.1em;
      padding: 5px;
    }
    .report-table-body-cell-url {
      text-align: left;
      width: 20%;
    }
    .clipped {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow:hidden !important;
      max-width: 700px;
      word-wrap: break-word;
      display:inline-block;
    }
    .url {
      cursor: pointer;
      color: #729FCF;
    }
    .alert {
      color: red;
    }
  </style>
</head>

<body>
  <table border="1" class="report-table">
  <thead>
    <tr class="report-table-header-row">
    </tr>
  </thead>
  <tbody class="report-table-body">
  </tbody>

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" src="jquery.tablesorter.min.js"></script> 
  <script type="text/javascript">
  !function($) {
    var table = [{'count': 2767, 'time_avg': 62.994706179978365, 'time_max': 9843.569, 'time_sum': 174306.35200000013, 'url': '/api/v2/internal/html5/phantomjs/queue/?wait=1m', 'time_med': 60.073, 'time_perc': 0.09042900964751545, 'count_perc': 0.0010586581555703325}, {'count': 1410, 'time_avg': 67.10557730496451, 'time_max': 9853.373, 'time_sum': 94618.86399999996, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=5', 'time_med': 60.124, 'time_perc': 0.049087655540475894, 'count_perc': 0.0005394680156682938}, {'count': 1409, 'time_avg': 67.09571114265431, 'time_max': 9826.572, 'time_sum': 94537.85699999992, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=2', 'time_med': 60.125, 'time_perc': 0.04904562963206539, 'count_perc': 0.0005390854142387417}, {'count': 1393, 'time_avg': 67.18905814788229, 'time_max': 9853.242, 'time_sum': 93594.35800000004, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=3', 'time_med': 60.125, 'time_perc': 0.04855614844452147, 'count_perc': 0.0005329637913659101}, {'count': 1392, 'time_avg': 67.13289008620686, 'time_max': 9826.209, 'time_sum': 93448.98299999993, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=4', 'time_med': 60.124, 'time_perc': 0.048480728833436286, 'count_perc': 0.000532581189936358}, {'count': 1414, 'time_avg': 60.166482319660474, 'time_max': 71.291, 'time_sum': 85075.40599999992, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=1', 'time_med': 60.123, 'time_perc': 0.044136571167184314, 'count_perc': 0.0005409984213865016}, {'count': 1320, 'time_avg': 16.630037878787885, 'time_max': 24.053, 'time_sum': 21951.65000000001, 'url': '/export/ivi/200010-impression.csv', 'time_med': 16.483, 'time_perc': 0.011388374243692977, 'count_perc': 0.0005050338870086154}, {'count': 784, 'time_avg': 13.071136479591829, 'time_max': 9811.46, 'time_sum': 10247.770999999993, 'url': '/api/v2/group/7123018/banners', 'time_med': 0.537, 'time_perc': 0.005316477408835495, 'count_perc': 0.0002999595207687534}, {'count': 252, 'time_avg': 40.06823412698412, 'time_max': 9811.884, 'time_sum': 10097.195, 'url': '/api/v2/banner/26647998', 'time_med': 1.1070000000000002, 'time_perc': 0.005238359552541401, 'count_perc': 9.641556024709931e-05}, {'count': 252, 'time_avg': 40.05182936507937, 'time_max': 9811.885, 'time_sum': 10093.061000000002, 'url': '/api/v2/banner/26619125', 'time_med': 1.09, 'time_perc': 0.005236214860041138, 'count_perc': 9.641556024709931e-05}, {'count': 252, 'time_avg': 40.038488095238094, 'time_max': 9811.885, 'time_sum': 10089.699, 'url': '/api/v2/banner/26618742', 'time_med': 1.0505, 'time_perc': 0.005234470676154856, 'count_perc': 9.641556024709931e-05}, {'count': 252, 'time_avg': 39.97223015873016, 'time_max': 9811.885, 'time_sum': 10073.002, 'url': '/api/v2/banner/26598670', 'time_med': 0.975, 'time_perc': 0.005225808380393628, 'count_perc': 9.641556024709931e-05}, {'count': 699, 'time_avg': 14.404824034334753, 'time_max': 119.987, 'time_sum': 10068.971999999992, 'url': '/campaigns/7854376/banners/?', 'time_med': 13.488, 'time_perc': 0.005223717642421669, 'count_perc': 0.000267438399256835}, {'count': 252, 'time_avg': 39.91941269841269, 'time_max': 9811.886, 'time_sum': 10059.692, 'url': '/api/v2/banner/24389816', 'time_med': 0.887, 'time_perc': 0.005218903238357218, 'count_perc': 9.641556024709931e-05}, {'count': 252, 'time_avg': 39.91324603174603, 'time_max': 9811.887, 'time_sum': 10058.137999999999, 'url': '/api/v2/banner/24359968', 'time_med': 0.954, 'time_perc': 0.005218097033193839, 'count_perc': 9.641556024709931e-05}, {'count': 252, 'time_avg': 39.911603174603165, 'time_max': 9811.886, 'time_sum': 10057.723999999998, 'url': '/api/v2/banner/26594175', 'time_med': 0.9185000000000001, 'time_perc': 0.005217882252667687, 'count_perc': 9.641556024709931e-05}, {'count': 252, 'time_avg': 39.87173412698412, 'time_max': 9811.886, 'time_sum': 10047.677, 'url': '/api/v2/banner/26588410', 'time_med': 0.833, 'time_perc': 0.005212669933956958, 'count_perc': 9.641556024709931e-05}, {'count': 252, 'time_avg': 39.86199603174605, 'time_max': 9811.886, 'time_sum': 10045.223000000005, 'url': '/api/v2/banner/26585041', 'time_med': 0.908, 'time_perc': 0.0052113968146062966, 'count_perc': 9.641556024709931e-05}, {'count': 252, 'time_avg': 39.860365079365074, 'time_max': 9811.887, 'time_sum': 10044.811999999998, 'url': '/api/v2/banner/24337272', 'time_med': 0.8305, 'time_perc': 0.005211183590460766, 'count_perc': 9.641556024709931e-05}, {'count': 699, 'time_avg': 11.457237482117309, 'time_max': 25.643, 'time_sum': 8008.6089999999995, 'url': '/campaigns/7854473/banners/?', 'time_med': 11.243, 'time_perc': 0.004154814625023983, 'count_perc': 0.000267438399256835}, {'count': 48, 'time_avg': 113.19933333333331, 'time_max': 250.059, 'time_sum': 5433.567999999999, 'url': '//api/1/banners/', 'time_med': 105.634, 'time_perc': 0.0028188999853110963, 'count_perc': 1.8364868618495106e-05}, {'count': 236, 'time_avg': 22.634504237288134, 'time_max': 36.195, 'time_sum': 5341.7429999999995, 'url': '/api/v2/internal/slots', 'time_med': 23.6555, 'time_perc': 0.0027712617683694494, 'count_perc': 9.02939373742676e-05}, {'count': 1294, 'time_avg': 4.062108964451322, 'time_max': 685.529, 'time_sum': 5256.369000000011, 'url': '/campaigns/', 'time_med': 1.4815, 'time_perc': 0.0027269702885635615, 'count_perc': 0.0004950862498402639}, {'count': 47, 'time_avg': 102.85331914893615, 'time_max': 128.52, 'time_sum': 4834.105999999999, 'url': '/api/v2/slot/2406/groups', 'time_med': 102.41, 'time_perc': 0.002507902971379447, 'count_perc': 1.7982267188943125e-05}, {'count': 699, 'time_avg': 6.719499284692421, 'time_max': 119.979, 'time_sum': 4696.930000000002, 'url': '/campaigns/7876636/banners/?', 'time_med': 6.191, 'time_perc': 0.00243673694854049, 'count_perc': 0.000267438399256835}, {'count': 19764, 'time_avg': 0.23726649463671723, 'time_max': 24.869, 'time_sum': 4689.335000000079, 'url': '/api/1/photogenic_banners/post/', 'time_med': 0.135, 'time_perc': 0.002432796711593383, 'count_perc': 0.00756173465366536}, {'count': 700, 'time_avg': 6.394595714285717, 'time_max': 26.287, 'time_sum': 4476.2170000000015, 'url': '/campaigns/7854362/banners/?', 'time_med': 6.1875, 'time_perc': 0.0023222324696312415, 'count_perc': 0.00026782100068638694}, {'count': 699, 'time_avg': 5.848662374821165, 'time_max': 119.976, 'time_sum': 4088.2149999999947, 'url': '/campaigns/7876633/banners/?', 'time_med': 5.343, 'time_perc': 0.0021209395379700024, 'count_perc': 0.000267438399256835}, {'count': 700, 'time_avg': 5.600124285714292, 'time_max': 22.854, 'time_sum': 3920.0870000000045, 'url': '/campaigns/7854359/banners/?', 'time_med': 5.446, 'time_perc': 0.002033715817436762, 'count_perc': 0.00026782100068638694}, {'count': 56, 'time_avg': 67.62298214285713, 'time_max': 81.628, 'time_sum': 3786.8869999999993, 'url': '/api/1/banners/?campaign=1392872', 'time_med': 67.38149999999999, 'time_perc': 0.0019646125177185197, 'count_perc': 2.1425680054910956e-05}, {'count': 56, 'time_avg': 67.45624999999998, 'time_max': 82.477, 'time_sum': 3777.549999999999, 'url': '/api/1/banners/?campaign=1200302', 'time_med': 66.7425, 'time_perc': 0.0019597685424222037, 'count_perc': 2.1425680054910956e-05}, {'count': 576, 'time_avg': 6.236868055555558, 'time_max': 17.822, 'time_sum': 3592.436000000001, 'url': '/campaigns/statistic/?date1=01-06-2017&date2=30-06-2017&date_type=day&do=1', 'time_med': 5.237, 'time_perc': 0.00186373259479426, 'count_perc': 0.00022037842342194128}, {'count': 699, 'time_avg': 4.728206008583703, 'time_max': 119.966, 'time_sum': 3305.0160000000083, 'url': '/campaigns/7854408/banners/?', 'time_med': 4.422, 'time_perc': 0.0017146209551169623, 'count_perc': 0.000267438399256835}, {'count': 699, 'time_avg': 4.5324549356223205, 'time_max': 119.964, 'time_sum': 3168.186000000002, 'url': '/campaigns/7854389/banners/?', 'time_med': 4.124, 'time_perc': 0.0016436344348433345, 'count_perc': 0.000267438399256835}, {'count': 189, 'time_avg': 16.268481481481487, 'time_max': 23.775, 'time_sum': 3074.743000000001, 'url': '/api/v2/slot/2902/groups', 'time_med': 16.238, 'time_perc': 0.001595156809951656, 'count_perc': 7.231167018532448e-05}, {'count': 699, 'time_avg': 3.991878397711015, 'time_max': 9.113, 'time_sum': 2790.3229999999994, 'url': '/campaigns/7854366/banners/?', 'time_med': 3.858, 'time_perc': 0.0014476015508986385, 'count_perc': 0.000267438399256835}, {'count': 444, 'time_avg': 6.097932432432431, 'time_max': 99.429, 'time_sum': 2707.4819999999995, 'url': '/slots/3938/', 'time_med': 5.803, 'time_perc': 0.0014046241751331826, 'count_perc': 0.00016987503472107974}, {'count': 1374, 'time_avg': 1.9205087336244497, 'time_max': 1004.924, 'time_sum': 2638.778999999994, 'url': '/campaigns/7806980/banners/', 'time_med': 0.8835, 'time_perc': 0.0013689815024564363, 'count_perc': 0.0005256943642044224}, {'count': 699, 'time_avg': 3.6977882689556507, 'time_max': 7.036, 'time_sum': 2584.754, 'url': '/campaigns/7854372/banners/?', 'time_med': 3.592, 'time_perc': 0.0013409536813807793, 'count_perc': 0.000267438399256835}, {'count': 4387, 'time_avg': 0.5731903350809197, 'time_max': 37.06, 'time_sum': 2514.5859999999943, 'url': '/upload_file/ajax/', 'time_med': 0.095, 'time_perc': 0.0013045509761658405, 'count_perc': 0.0016784724714445423}, {'count': 1398, 'time_avg': 1.7697453505007146, 'time_max': 999.116, 'time_sum': 2474.103999999999, 'url': '/campaigns/7704673/banners/', 'time_med': 0.781, 'time_perc': 0.0012835491760217453, 'count_perc': 0.00053487679851367}, {'count': 699, 'time_avg': 3.2998397711015706, 'time_max': 119.987, 'time_sum': 2306.587999999998, 'url': '/campaigns/7876648/banners/?', 'time_med': 2.452, 'time_perc': 0.0011966429571358536, 'count_perc': 0.000267438399256835}, {'count': 162, 'time_avg': 12.98524074074074, 'time_max': 23.392, 'time_sum': 2103.609, 'url': '/api/1/banners/?campaign=3098083', 'time_med': 12.5235, 'time_perc': 0.0010913387628902942, 'count_perc': 6.198143158742098e-05}, {'count': 7427, 'time_avg': 0.2806666217853771, 'time_max': 92.944, 'time_sum': 2084.510999999996, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB2', 'time_med': 0.133, 'time_perc': 0.0010814308438360958, 'count_perc': 0.0028415808172825656}, {'count': 162, 'time_avg': 12.517030864197533, 'time_max': 22.252, 'time_sum': 2027.7590000000005, 'url': '/api/1/banners/?campaign=2320799', 'time_med': 11.971499999999999, 'time_perc': 0.0010519882727729633, 'count_perc': 6.198143158742098e-05}, {'count': 6134, 'time_avg': 0.32420704271274836, 'time_max': 189.552, 'time_sum': 1988.6859999999983, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB3', 'time_med': 0.132, 'time_perc': 0.001031717452728737, 'count_perc': 0.002346877168871854}, {'count': 564, 'time_avg': 3.524851063829789, 'time_max': 8.575, 'time_sum': 1988.016000000001, 'url': '/campaigns/statistic/?date1=01-06-2017&date2=30-06-2017&date_type=day&do=1&c=7854433&c=7894082&c=7854372&c=7854358&c=7876648&c=7859612&c=7854380&c=7854359&c=7854476&c=7854362&c=7859598&c=7854352&c=7854376&c=7894070&c=7854473&c=7854456&c=7876633&c=7854458&c=7876636&c=7854365&c=7854366', 'time_med': 2.3425000000000002, 'time_perc': 0.0010313698610559816, 'count_perc': 0.0002157872062673175}, {'count': 5889, 'time_avg': 0.3292482594668026, 'time_max': 110.481, 'time_sum': 1938.9430000000004, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB4', 'time_med': 0.132, 'time_perc': 0.0010059111055974739, 'count_perc': 0.002253139818631618}, {'count': 699, 'time_avg': 2.76279113018598, 'time_max': 119.978, 'time_sum': 1931.1910000000003, 'url': '/campaigns/7894082/banners/?', 'time_med': 2.183, 'time_perc': 0.001001889418064322, 'count_perc': 0.000267438399256835}, {'count': 1208, 'time_avg': 1.596671357615895, 'time_max': 854.832, 'time_sum': 1928.7790000000011, 'url': '/campaigns/7854473/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.7975000000000001, 'time_perc': 0.0010006380880423977, 'count_perc': 0.00046218252689879353}, {'count': 5422, 'time_avg': 0.3555542235337514, 'time_max': 208.48, 'time_sum': 1927.8149999999998, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB5', 'time_med': 0.132, 'time_perc': 0.0010001379710684601, 'count_perc': 0.002074464951030843}, {'count': 1188, 'time_avg': 1.6091717171717117, 'time_max': 459.369, 'time_sum': 1911.6959999999935, 'url': '/', 'time_med': 0.024, 'time_perc': 0.0009917755379741753, 'count_perc': 0.00045453049830775387}, {'count': 1127, 'time_avg': 1.6857071872227196, 'time_max': 859.076, 'time_sum': 1899.792000000005, 'url': '/campaigns/7854352/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.771, 'time_perc': 0.0009855998196570195, 'count_perc': 0.000431191811105083}, {'count': 699, 'time_avg': 2.578925608011445, 'time_max': 36.953, 'time_sum': 1802.669, 'url': '/campaigns/7854352/banners/?', 'time_med': 2.372, 'time_perc': 0.0009352130345328832, 'count_perc': 0.000267438399256835}, {'count': 28, 'time_avg': 62.29496428571428, 'time_max': 74.77, 'time_sum': 1744.2589999999998, 'url': '/agency/campaigns/6465912/banners/bulk_read/', 'time_med': 61.658, 'time_perc': 0.0009049103037780603, 'count_perc': 1.0712840027455478e-05}, {'count': 4844, 'time_avg': 0.35882720891825154, 'time_max': 194.814, 'time_sum': 1738.1590000000103, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB1', 'time_med': 0.132, 'time_perc': 0.0009017456631753535, 'count_perc': 0.0018533213247497978}, {'count': 162, 'time_avg': 10.718259259259256, 'time_max': 26.641, 'time_sum': 1736.3579999999995, 'url': '/api/1/banners/?campaign=3098094', 'time_med': 10.3645, 'time_perc': 0.0009008113160072357, 'count_perc': 6.198143158742098e-05}, {'count': 700, 'time_avg': 2.467164285714285, 'time_max': 12.327, 'time_sum': 1727.0149999999996, 'url': '/campaigns/7854358/banners/?', 'time_med': 2.3425000000000002, 'time_perc': 0.0008959642279496718, 'count_perc': 0.00026782100068638694}, {'count': 6899, 'time_avg': 0.24240658066386644, 'time_max': 119.954, 'time_sum': 1672.3630000000146, 'url': '/accounts/login/', 'time_med': 0.181, 'time_perc': 0.0008676111233235441, 'count_perc': 0.0026395672624791194}, {'count': 699, 'time_avg': 2.3695979971387686, 'time_max': 119.975, 'time_sum': 1656.3489999999993, 'url': '/campaigns/7894070/banners/?', 'time_med': 2.128, 'time_perc': 0.0008593031635511045, 'count_perc': 0.000267438399256835}, {'count': 158441, 'time_avg': 0.010196817742875775, 'time_max': 24.3, 'time_sum': 1615.5939999989807, 'url': '/export/appinstall_raw/2017-06-29/', 'time_med': 0.009, 'time_perc': 0.0008381597327696686, 'count_perc': 0.060619753099645485}, {'count': 189, 'time_avg': 8.520719576719575, 'time_max': 14.695, 'time_sum': 1610.4159999999997, 'url': '/api/v2/slot/4499/groups', 'time_med': 8.118, 'time_perc': 0.0008354734198126819, 'count_perc': 7.231167018532448e-05}, {'count': 2726, 'time_avg': 0.588113352898021, 'time_max': 185.467, 'time_sum': 1603.1970000000053, 'url': '/api/1/flash_banners/list/?server_name=AndreySergeevich', 'time_med': 0.222, 'time_perc': 0.0008317282492371143, 'count_perc': 0.0010429714969587011}, {'count': 2738, 'time_avg': 0.5804243973703396, 'time_max': 167.33, 'time_sum': 1589.2019999999898, 'url': '/api/1/flash_banners/list/?server_name=AndreySemenovich', 'time_med': 0.133, 'time_perc': 0.0008244677336248183, 'count_perc': 0.001047562714113325}, {'count': 699, 'time_avg': 2.2695751072961383, 'time_max': 8.933, 'time_sum': 1586.4330000000007, 'url': '/campaigns/7854365/banners/?', 'time_med': 2.178, 'time_perc': 0.0008230311943086091, 'count_perc': 0.000267438399256835}, {'count': 699, 'time_avg': 2.244660944206007, 'time_max': 9.828, 'time_sum': 1569.0179999999987, 'url': '/campaigns/7854458/banners/?', 'time_med': 2.116, 'time_perc': 0.0008139964047846355, 'count_perc': 0.000267438399256835}, {'count': 2736, 'time_avg': 0.5625113304093531, 'time_max': 157.167, 'time_sum': 1539.03099999999, 'url': '/api/1/flash_banners/list/?server_name=AndreyIlich', 'time_med': 0.133, 'time_perc': 0.0007984393428578227, 'count_perc': 0.001046797511254221}, {'count': 2742, 'time_avg': 0.5493905908096243, 'time_max': 192.77, 'time_sum': 1506.4289999999899, 'url': '/api/1/flash_banners/list/?server_name=AndreyIvanovich', 'time_med': 0.133, 'time_perc': 0.0007815256358201795, 'count_perc': 0.001049093119831533}, {'count': 4, 'time_avg': 374.71975, 'time_max': 491.112, 'time_sum': 1498.879, 'url': '/agencies/t1_agency_check_sync/?year=2017&month=5&csv=1', 'time_med': 341.1005, 'time_perc': 0.0007776087445824016, 'count_perc': 1.5304057182079256e-06}, {'count': 106, 'time_avg': 14.012367924528304, 'time_max': 23.844, 'time_sum': 1485.3110000000001, 'url': '/api/1/banners/?campaign=3431890', 'time_med': 13.8635, 'time_perc': 0.0007705697538123035, 'count_perc': 4.0555751532510025e-05}, {'count': 128, 'time_avg': 11.5478203125, 'time_max': 65.177, 'time_sum': 1478.121, 'url': '/sites/278/', 'time_med': 1.4, 'time_perc': 0.0007668396282494345, 'count_perc': 4.897298298265362e-05}, {'count': 1175, 'time_avg': 1.249053617021277, 'time_max': 504.72, 'time_sum': 1467.6380000000004, 'url': '/campaigns/7854372/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.773, 'time_perc': 0.0007614011155546426, 'count_perc': 0.00044955667972357814}, {'count': 1154, 'time_avg': 1.2630615251299824, 'time_max': 504.301, 'time_sum': 1457.5729999999996, 'url': '/campaigns/7854366/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.785, 'time_perc': 0.0007561794585601671, 'count_perc': 0.00044152204970298654}, {'count': 2740, 'time_avg': 0.5309912408759098, 'time_max': 206.559, 'time_sum': 1454.9159999999927, 'url': '/api/1/flash_banners/list/?server_name=AndreyVadimovich', 'time_med': 0.133, 'time_perc': 0.0007548010241205887, 'count_perc': 0.001048327916972429}, {'count': 2731, 'time_avg': 0.531358110582201, 'time_max': 206.7, 'time_sum': 1451.1389999999908, 'url': '/api/1/flash_banners/list/?server_name=AndreyPetrovich', 'time_med': 0.133, 'time_perc': 0.0007528415409146133, 'count_perc': 0.001044884504106461}, {'count': 2737, 'time_avg': 0.5107438801607578, 'time_max': 181.827, 'time_sum': 1397.905999999994, 'url': '/api/1/flash_banners/list/?server_name=AndreyEfimovich', 'time_med': 0.133, 'time_perc': 0.0007252246043237661, 'count_perc': 0.001047180112683773}, {'count': 2730, 'time_avg': 0.4963967032967004, 'time_max': 213.781, 'time_sum': 1355.162999999992, 'url': '/api/1/flash_banners/list/?server_name=AndreyKuzmich', 'time_med': 0.132, 'time_perc': 0.0007030498119824982, 'count_perc': 0.0010445019026769091}, {'count': 972, 'time_avg': 1.3729279835390953, 'time_max': 503.2, 'time_sum': 1334.4860000000006, 'url': '/campaigns/7854376/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.801, 'time_perc': 0.0006923227179263912, 'count_perc': 0.0003718885895245259}, {'count': 2739, 'time_avg': 0.48587513691127887, 'time_max': 134.341, 'time_sum': 1330.8119999999928, 'url': '/api/1/flash_banners/list/?server_name=AndreyLvovich', 'time_med': 0.133, 'time_perc': 0.0006904166704551799, 'count_perc': 0.001047945315542877}, {'count': 6894, 'time_avg': 0.18899912967798008, 'time_max': 5.738, 'time_sum': 1302.9599999999946, 'url': '/api/v2/banner/21456892', 'time_med': 0.161, 'time_perc': 0.0006759672327393218, 'count_perc': 0.0026376542553313595}, {'count': 6893, 'time_avg': 0.1884421877266784, 'time_max': 5.828, 'time_sum': 1298.931999999994, 'url': '/api/v2/banner/16848376', 'time_med': 0.159, 'time_perc': 0.0006738775323544486, 'count_perc': 0.0026372716539018078}, {'count': 7415, 'time_avg': 0.17385799055967538, 'time_max': 4.244, 'time_sum': 1289.1569999999929, 'url': '/api/v2/banner/794450', 'time_med': 0.147, 'time_perc': 0.0006688063254869871, 'count_perc': 0.002836989600127942}, {'count': 6893, 'time_avg': 0.18367184099811276, 'time_max': 1.462, 'time_sum': 1266.0499999999913, 'url': '/api/v2/banner/15521472', 'time_med': 0.158, 'time_perc': 0.0006568185631252041, 'count_perc': 0.0026372716539018078}, {'count': 6894, 'time_avg': 0.18007441253263606, 'time_max': 1.775, 'time_sum': 1241.432999999993, 'url': '/api/v2/banner/16168711', 'time_med': 0.152, 'time_perc': 0.0006440474225158663, 'count_perc': 0.0026376542553313595}, {'count': 6893, 'time_avg': 0.17895966922965237, 'time_max': 1.712, 'time_sum': 1233.5689999999938, 'url': '/api/v2/banner/16028459', 'time_med': 0.151, 'time_perc': 0.0006399676301060751, 'count_perc': 0.0026372716539018078}, {'count': 6893, 'time_avg': 0.17888423037864384, 'time_max': 1.641, 'time_sum': 1233.048999999992, 'url': '/api/v2/banner/1279875', 'time_med': 0.151, 'time_perc': 0.0006396978574645316, 'count_perc': 0.0026372716539018078}, {'count': 6894, 'time_avg': 0.1766219901363493, 'time_max': 2.661, 'time_sum': 1217.631999999992, 'url': '/api/v2/banner/16852664', 'time_med': 0.151, 'time_perc': 0.0006316996174363326, 'count_perc': 0.0026376542553313595}, {'count': 6894, 'time_avg': 0.17497026399767845, 'time_max': 6.571, 'time_sum': 1206.2449999999953, 'url': '/api/v2/banner/16803530', 'time_med': 0.148, 'time_perc': 0.000625792115380091, 'count_perc': 0.0026376542553313595}, {'count': 6893, 'time_avg': 0.17450645582474794, 'time_max': 1.744, 'time_sum': 1202.8729999999875, 'url': '/api/v2/banner/1218585', 'time_med': 0.149, 'time_perc': 0.000624042743558391, 'count_perc': 0.0026372716539018078}, {'count': 6893, 'time_avg': 0.1742811547947183, 'time_max': 9.107, 'time_sum': 1201.3199999999933, 'url': '/api/v2/banner/17708598', 'time_med': 0.147, 'time_perc': 0.000623237057188556, 'count_perc': 0.0026372716539018078}, {'count': 6891, 'time_avg': 0.17425264838194623, 'time_max': 1.949, 'time_sum': 1200.7749999999915, 'url': '/api/v2/banner/25398145', 'time_med': 0.149, 'time_perc': 0.0006229543147084766, 'count_perc': 0.002636506451042704}, {'count': 784, 'time_avg': 1.5052678571428584, 'time_max': 3.881, 'time_sum': 1180.130000000001, 'url': '/api/v2/slot/6191/groups', 'time_med': 1.3975, 'time_perc': 0.0006122438220456958, 'count_perc': 0.0002999595207687534}, {'count': 6630, 'time_avg': 0.1763075414781292, 'time_max': 1.73, 'time_sum': 1168.9189999999965, 'url': '/api/v2/banner/24824230', 'time_med': 0.149, 'time_perc': 0.0006064276276527416, 'count_perc': 0.0025366474779296364}, {'count': 6370, 'time_avg': 0.18284081632652938, 'time_max': 1.376, 'time_sum': 1164.6959999999922, 'url': '/api/v2/banner/227223', 'time_med': 0.155, 'time_perc': 0.0006042367625272879, 'count_perc': 0.0024371711062461214}, {'count': 6633, 'time_avg': 0.17531313131312976, 'time_max': 1.6, 'time_sum': 1162.8519999999896, 'url': '/api/v2/banner/1717161', 'time_med': 0.147, 'time_perc': 0.000603280107236893, 'count_perc': 0.0025377952822182924}, {'count': 804, 'time_avg': 1.3911902985074625, 'time_max': 511.729, 'time_sum': 1118.5169999999998, 'url': '/campaigns/7854358/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.6445000000000001, 'time_perc': 0.0005802793955776778, 'count_perc': 0.000307611549359793}, {'count': 6370, 'time_avg': 0.1754054945054932, 'time_max': 4.843, 'time_sum': 1117.3329999999917, 'url': '/api/v2/banner/26350274', 'time_med': 0.148, 'time_perc': 0.0005796651440246225, 'count_perc': 0.0024371711062461214}, {'count': 723, 'time_avg': 1.5350995850622402, 'time_max': 50.844, 'time_sum': 1109.8769999999997, 'url': '/campaigns/?filter=active', 'time_med': 0.953, 'time_perc': 0.0005757970193797378, 'count_perc': 0.0002766208335660825}, {'count': 28, 'time_avg': 38.68, 'time_max': 934.761, 'time_sum': 1083.04, 'url': '/agency/prices/3754/campaigns/bulk_read/', 'time_med': 5.3045, 'time_perc': 0.0005618741571084286, 'count_perc': 1.0712840027455478e-05}, {'count': 88, 'time_avg': 11.91215909090909, 'time_max': 423.651, 'time_sum': 1048.27, 'url': '/campaigns/7843131/banners/', 'time_med': 1.276, 'time_perc': 0.0005438357056729691, 'count_perc': 3.366892580057436e-05}];
    var reportDates;
    var columns = new Array();
    var lastRow = 150;
    var $table = $(".report-table-body");
    var $header = $(".report-table-header-row");
    var $selector = $(".report-date-selector");

    $(document).ready(function() {
      $(window).bind("scroll", bindScroll);
        var row = table[0];
        for (k in row) {
          columns.push(k);
        }
        columns = columns.sort();
        columns = columns.slice(columns.length -1, columns.length).concat(columns.slice(0, columns.length -1));
        drawColumns();
        drawRows(table.slice(0, lastRow));
        $(".report-table").tablesorter(); 
    });

    function drawColumns() {
      for (var i = 0; i < columns.length; i++) {
        var $th = $("<th></th>").text(columns[i])
                                .addClass("report-table-header-cell")
        $header.append($th);
      }
    }

    function drawRows(rows) {
      for (var i = 0; i < rows.length; i++) {
        var row = rows[i];
        var $row = $("<tr></tr>").addClass("report-table-body-row");
        for (var j = 0; j < columns.length; j++) {
          var columnName = columns[j];
          var $cell = $("<td></td>").addClass("report-table-body-cell");
          if (columnName == "url") {
            var url = "https://rb.mail.ru" + row[columnName];
            var $link = $("<a></a>").attr("href", url)
                                    .attr("title", url)
                                    .attr("target", "_blank")
                                    .addClass("clipped")
                                    .addClass("url")
                                    .text(row[columnName]);
            $cell.addClass("report-table-body-cell-url");
            $cell.append($link);
          }
          else {
            $cell.text(row[columnName]);
            if (columnName == "time_avg" && row[columnName] > 0.9) {
              $cell.addClass("alert");
            }
          }
          $row.append($cell);
        }
        $table.append($row);
      }
      $(".report-table").trigger("update"); 
    }

    function bindScroll() {
      if($(window).scrollTop() == $(document).height() - $(window).height()) {
        if (lastRow < 1000) {
          drawRows(table.slice(lastRow, lastRow + 50));
          lastRow += 50;
        }
      }
    }

  }(window.jQuery)
  </script>
</body>
</html>
