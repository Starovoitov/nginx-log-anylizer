<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>rbui log analysis report</title>
  <meta name="description" content="rbui log analysis report">
  <style type="text/css">
    html, body {
      background-color: black;
    }
    th {
      text-align: center;
      color: silver;
      font-style: bold;
      padding: 5px;
      cursor: pointer;
    }
    table {
      width: auto;
      border-collapse: collapse;
      margin: 1%;
      color: silver;
    }
    td {
      text-align: right;
      font-size: 1.1em;
      padding: 5px;
    }
    .report-table-body-cell-url {
      text-align: left;
      width: 20%;
    }
    .clipped {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow:hidden !important;
      max-width: 700px;
      word-wrap: break-word;
      display:inline-block;
    }
    .url {
      cursor: pointer;
      color: #729FCF;
    }
    .alert {
      color: red;
    }
  </style>
</head>

<body>
  <table border="1" class="report-table">
  <thead>
    <tr class="report-table-header-row">
    </tr>
  </thead>
  <tbody class="report-table-body">
  </tbody>

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" src="jquery.tablesorter.min.js"></script> 
  <script type="text/javascript">
  !function($) {
    var table = [{'count': 2767, 'time_avg': 59.437218286953431, 'time_max': 75.129000000000005, 'time_sum': 164462.78300000014, 'url': '/api/v2/internal/html5/phantomjs/queue/?wait=1m', 'time_med': 60.073, 'time_perc': 0.085322229625712329, 'count_perc': 0.0010586581555703325}, {'count': 1414, 'time_avg': 60.166482319660474, 'time_max': 71.290999999999997, 'time_sum': 85075.405999999915, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=1', 'time_med': 60.122999999999998, 'time_perc': 0.044136571167184314, 'count_perc': 0.00054099842138650165}, {'count': 1410, 'time_avg': 60.117369503546072, 'time_max': 65.126000000000005, 'time_sum': 84765.490999999965, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=5', 'time_med': 60.124000000000002, 'time_perc': 0.04397578926679261, 'count_perc': 0.00053946801566829379}, {'count': 1409, 'time_avg': 60.121564939673469, 'time_max': 69.090999999999994, 'time_sum': 84711.284999999916, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=2', 'time_med': 60.125, 'time_perc': 0.043947667544085925, 'count_perc': 0.00053908541423874174}, {'count': 1393, 'time_avg': 60.115661162957672, 'time_max': 65.123999999999995, 'time_sum': 83741.116000000038, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=3', 'time_med': 60.124499999999998, 'time_perc': 0.043444350132792103, 'count_perc': 0.0005329637913659101}, {'count': 1392, 'time_avg': 60.073831896551674, 'time_max': 71.293999999999997, 'time_sum': 83622.773999999932, 'url': '/api/v2/internal/gpmd_plan_report/queue/?wait=1m&worker=4', 'time_med': 60.124000000000002, 'time_perc': 0.043382955067512351, 'count_perc': 0.00053258118993635805}, {'count': 1320, 'time_avg': 16.620220454545461, 'time_max': 24.053000000000001, 'time_sum': 21938.69100000001, 'url': '/export/ivi/200010-impression.csv', 'time_med': 16.483000000000001, 'time_perc': 0.011381651198189608, 'count_perc': 0.00050503388700861543}, {'count': 699, 'time_avg': 13.889872675250349, 'time_max': 28.202999999999999, 'time_sum': 9709.0209999999934, 'url': '/campaigns/7854376/banners/?', 'time_med': 13.4815, 'time_perc': 0.005036977388391037, 'count_perc': 0.000267438399256835}, {'count': 699, 'time_avg': 11.457237482117309, 'time_max': 25.643000000000001, 'time_sum': 8008.6089999999995, 'url': '/campaigns/7854473/banners/?', 'time_med': 11.243, 'time_perc': 0.0041548146250239828, 'count_perc': 0.000267438399256835}, {'count': 48, 'time_avg': 113.17025000000001, 'time_max': 250.059, 'time_sum': 5432.1720000000005, 'url': '//api/1/banners/', 'time_med': 223.40100000000001, 'time_perc': 0.0028181757495272632, 'count_perc': 1.8364868618495106e-05}, {'count': 236, 'time_avg': 22.634504237288134, 'time_max': 36.195, 'time_sum': 5341.7429999999995, 'url': '/api/v2/internal/slots', 'time_med': 23.6555, 'time_perc': 0.0027712617683694494, 'count_perc': 9.02939373742676e-05}, {'count': 47, 'time_avg': 102.85331914893615, 'time_max': 128.52000000000001, 'time_sum': 4834.1059999999989, 'url': '/api/v2/slot/2406/groups', 'time_med': 102.41, 'time_perc': 0.0025079029713794472, 'count_perc': 1.7982267188943125e-05}, {'count': 19764, 'time_avg': 0.23726649463671723, 'time_max': 24.869, 'time_sum': 4689.3350000000792, 'url': '/api/1/photogenic_banners/post/', 'time_med': 0.13500000000000001, 'time_perc': 0.0024327967115933828, 'count_perc': 0.0075617346536653602}, {'count': 700, 'time_avg': 6.3945957142857166, 'time_max': 26.286999999999999, 'time_sum': 4476.2170000000015, 'url': '/campaigns/7854362/banners/?', 'time_med': 6.1875, 'time_perc': 0.0023222324696312415, 'count_perc': 0.00026782100068638694}, {'count': 699, 'time_avg': 6.3762303290414915, 'time_max': 17.419, 'time_sum': 4456.9850000000024, 'url': '/campaigns/7876636/banners/?', 'time_med': 6.1870000000000003, 'time_perc': 0.0023122550322424943, 'count_perc': 0.000267438399256835}, {'count': 1294, 'time_avg': 3.3162782071097316, 'time_max': 533.74000000000001, 'time_sum': 4291.2639999999928, 'url': '/campaigns/', 'time_med': 1.4620000000000002, 'time_perc': 0.0022262800477634618, 'count_perc': 0.00049508624984026387}, {'count': 700, 'time_avg': 5.6001242857142923, 'time_max': 22.853999999999999, 'time_sum': 3920.0870000000045, 'url': '/campaigns/7854359/banners/?', 'time_med': 5.4459999999999997, 'time_perc': 0.0020337158174367621, 'count_perc': 0.00026782100068638694}, {'count': 699, 'time_avg': 5.5053919885550711, 'time_max': 44.889000000000003, 'time_sum': 3848.2689999999948, 'url': '/campaigns/7876633/banners/?', 'time_med': 5.3410000000000002, 'time_perc': 0.0019964571028784645, 'count_perc': 0.000267438399256835}, {'count': 56, 'time_avg': 67.622982142857126, 'time_max': 81.628, 'time_sum': 3786.8869999999993, 'url': '/api/1/banners/?campaign=1392872', 'time_med': 67.381499999999988, 'time_perc': 0.0019646125177185197, 'count_perc': 2.1425680054910956e-05}, {'count': 56, 'time_avg': 67.456249999999983, 'time_max': 82.477000000000004, 'time_sum': 3777.5499999999988, 'url': '/api/1/banners/?campaign=1200302', 'time_med': 66.742500000000007, 'time_perc': 0.0019597685424222037, 'count_perc': 2.1425680054910956e-05}, {'count': 576, 'time_avg': 6.2296319444444457, 'time_max': 17.821999999999999, 'time_sum': 3588.2680000000009, 'url': '/campaigns/statistic/?date1=01-06-2017&date2=30-06-2017&date_type=day&do=1', 'time_med': 5.2370000000000001, 'time_perc': 0.001861570263313587, 'count_perc': 0.00022037842342194128}, {'count': 699, 'time_avg': 4.5565808297568058, 'time_max': 9.6579999999999995, 'time_sum': 3185.050000000007, 'url': '/campaigns/7854408/banners/?', 'time_med': 4.4190000000000005, 'time_perc': 0.0016523833691259827, 'count_perc': 0.000267438399256835}, {'count': 189, 'time_avg': 16.268481481481487, 'time_max': 23.774999999999999, 'time_sum': 3074.7430000000008, 'url': '/api/v2/slot/2902/groups', 'time_med': 16.238, 'time_perc': 0.001595156809951656, 'count_perc': 7.2311670185324479e-05}, {'count': 699, 'time_avg': 4.3608326180257553, 'time_max': 23.733000000000001, 'time_sum': 3048.2220000000029, 'url': '/campaigns/7854389/banners/?', 'time_med': 4.1239999999999997, 'time_perc': 0.001581397886439439, 'count_perc': 0.000267438399256835}, {'count': 699, 'time_avg': 3.991878397711015, 'time_max': 9.1129999999999995, 'time_sum': 2790.3229999999994, 'url': '/campaigns/7854366/banners/?', 'time_med': 3.8580000000000001, 'time_perc': 0.0014476015508986385, 'count_perc': 0.000267438399256835}, {'count': 444, 'time_avg': 6.0282274774774764, 'time_max': 99.429000000000002, 'time_sum': 2676.5329999999994, 'url': '/slots/3938/', 'time_med': 5.8360000000000003, 'time_perc': 0.0013885680338195203, 'count_perc': 0.00016987503472107974}, {'count': 699, 'time_avg': 3.6977882689556507, 'time_max': 7.0359999999999996, 'time_sum': 2584.7539999999999, 'url': '/campaigns/7854372/banners/?', 'time_med': 3.5920000000000001, 'time_perc': 0.0013409536813807793, 'count_perc': 0.000267438399256835}, {'count': 4387, 'time_avg': 0.56869500797811579, 'time_max': 37.060000000000002, 'time_sum': 2494.8649999999939, 'url': '/upload_file/ajax/', 'time_med': 0.095000000000000001, 'time_perc': 0.0012943198487353341, 'count_perc': 0.0016784724714445423}, {'count': 162, 'time_avg': 12.985240740740741, 'time_max': 23.391999999999999, 'time_sum': 2103.6089999999999, 'url': '/api/1/banners/?campaign=3098083', 'time_med': 12.5235, 'time_perc': 0.0010913387628902942, 'count_perc': 6.1981431587420982e-05}, {'count': 7427, 'time_avg': 0.2806666217853771, 'time_max': 92.944000000000003, 'time_sum': 2084.5109999999959, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB2', 'time_med': 0.13300000000000001, 'time_perc': 0.0010814308438360958, 'count_perc': 0.0028415808172825656}, {'count': 162, 'time_avg': 12.517030864197533, 'time_max': 22.251999999999999, 'time_sum': 2027.7590000000005, 'url': '/api/1/banners/?campaign=2320799', 'time_med': 11.971499999999999, 'time_perc': 0.0010519882727729633, 'count_perc': 6.1981431587420982e-05}, {'count': 6134, 'time_avg': 0.32420704271274836, 'time_max': 189.55199999999999, 'time_sum': 1988.6859999999983, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB3', 'time_med': 0.13200000000000001, 'time_perc': 0.001031717452728737, 'count_perc': 0.0023468771688718538}, {'count': 564, 'time_avg': 3.524851063829789, 'time_max': 8.5749999999999993, 'time_sum': 1988.016000000001, 'url': '/campaigns/statistic/?date1=01-06-2017&date2=30-06-2017&date_type=day&do=1&c=7854433&c=7894082&c=7854372&c=7854358&c=7876648&c=7859612&c=7854380&c=7854359&c=7854476&c=7854362&c=7859598&c=7854352&c=7854376&c=7894070&c=7854473&c=7854456&c=7876633&c=7854458&c=7876636&c=7854365&c=7854366', 'time_med': 2.3425000000000002, 'time_perc': 0.0010313698610559816, 'count_perc': 0.00021578720626731749}, {'count': 5889, 'time_avg': 0.32924825946680258, 'time_max': 110.48099999999999, 'time_sum': 1938.9430000000004, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB4', 'time_med': 0.13200000000000001, 'time_perc': 0.0010059111055974739, 'count_perc': 0.0022531398186316181}, {'count': 5422, 'time_avg': 0.35555422353375138, 'time_max': 208.47999999999999, 'time_sum': 1927.8149999999998, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB5', 'time_med': 0.13200000000000001, 'time_perc': 0.0010001379710684601, 'count_perc': 0.0020744649510308429}, {'count': 699, 'time_avg': 2.6137181688125883, 'time_max': 21.553999999999998, 'time_sum': 1826.9889999999991, 'url': '/campaigns/7876648/banners/?', 'time_med': 2.4500000000000002, 'time_perc': 0.00094783009346041723, 'count_perc': 0.000267438399256835}, {'count': 699, 'time_avg': 2.5789256080114451, 'time_max': 36.953000000000003, 'time_sum': 1802.6690000000001, 'url': '/campaigns/7854352/banners/?', 'time_med': 2.3719999999999999, 'time_perc': 0.00093521303453288323, 'count_perc': 0.000267438399256835}, {'count': 28, 'time_avg': 62.294964285714279, 'time_max': 74.769999999999996, 'time_sum': 1744.2589999999998, 'url': '/agency/campaigns/6465912/banners/bulk_read/', 'time_med': 61.658000000000001, 'time_perc': 0.0009049103037780603, 'count_perc': 1.0712840027455478e-05}, {'count': 4844, 'time_avg': 0.35882720891825154, 'time_max': 194.81399999999999, 'time_sum': 1738.1590000000103, 'url': '/api/1/photogenic_banners/list/?server_name=WIN7RB1', 'time_med': 0.13200000000000001, 'time_perc': 0.00090174566317535352, 'count_perc': 0.0018533213247497978}, {'count': 162, 'time_avg': 10.718259259259256, 'time_max': 26.640999999999998, 'time_sum': 1736.3579999999995, 'url': '/api/1/banners/?campaign=3098094', 'time_med': 10.3645, 'time_perc': 0.00090081131600723574, 'count_perc': 6.1981431587420982e-05}, {'count': 700, 'time_avg': 2.467164285714285, 'time_max': 12.327, 'time_sum': 1727.0149999999996, 'url': '/campaigns/7854358/banners/?', 'time_med': 2.3425000000000002, 'time_perc': 0.0008959642279496718, 'count_perc': 0.00026782100068638694}, {'count': 699, 'time_avg': 2.4196337625178805, 'time_max': 47.329000000000001, 'time_sum': 1691.3239999999985, 'url': '/campaigns/7894082/banners/?', 'time_med': 2.1819999999999999, 'time_perc': 0.00087744796766255637, 'count_perc': 0.000267438399256835}, {'count': 1374, 'time_avg': 1.1891229985443965, 'time_max': 244.035, 'time_sum': 1633.8550000000007, 'url': '/campaigns/7806980/banners/', 'time_med': 0.88300000000000001, 'time_perc': 0.00084763342163021857, 'count_perc': 0.00052569436420442242}, {'count': 158441, 'time_avg': 0.010196817742875775, 'time_max': 24.300000000000001, 'time_sum': 1615.5939999989807, 'url': '/export/appinstall_raw/2017-06-29/', 'time_med': 0.0089999999999999993, 'time_perc': 0.00083815973276966862, 'count_perc': 0.060619753099645485}, {'count': 189, 'time_avg': 8.5207195767195749, 'time_max': 14.695, 'time_sum': 1610.4159999999997, 'url': '/api/v2/slot/4499/groups', 'time_med': 8.1180000000000003, 'time_perc': 0.00083547341981268189, 'count_perc': 7.2311670185324479e-05}, {'count': 2726, 'time_avg': 0.58811335289802102, 'time_max': 185.46700000000001, 'time_sum': 1603.1970000000053, 'url': '/api/1/flash_banners/list/?server_name=AndreySergeevich', 'time_med': 0.222, 'time_perc': 0.00083172824923711435, 'count_perc': 0.0010429714969587011}, {'count': 2738, 'time_avg': 0.58042439737033957, 'time_max': 167.33000000000001, 'time_sum': 1589.2019999999898, 'url': '/api/1/flash_banners/list/?server_name=AndreySemenovich', 'time_med': 0.13300000000000001, 'time_perc': 0.00082446773362481829, 'count_perc': 0.001047562714113325}, {'count': 699, 'time_avg': 2.2695751072961383, 'time_max': 8.9329999999999998, 'time_sum': 1586.4330000000007, 'url': '/campaigns/7854365/banners/?', 'time_med': 2.1779999999999999, 'time_perc': 0.00082303119430860913, 'count_perc': 0.000267438399256835}, {'count': 699, 'time_avg': 2.2446609442060068, 'time_max': 9.8279999999999994, 'time_sum': 1569.0179999999987, 'url': '/campaigns/7854458/banners/?', 'time_med': 2.1160000000000001, 'time_perc': 0.00081399640478463549, 'count_perc': 0.000267438399256835}, {'count': 2736, 'time_avg': 0.56251133040935308, 'time_max': 157.167, 'time_sum': 1539.0309999999899, 'url': '/api/1/flash_banners/list/?server_name=AndreyIlich', 'time_med': 0.13300000000000001, 'time_perc': 0.00079843934285782272, 'count_perc': 0.001046797511254221}, {'count': 699, 'time_avg': 2.197959942775392, 'time_max': 4.2809999999999997, 'time_sum': 1536.3739999999989, 'url': '/campaigns/7894070/banners/?', 'time_med': 2.1280000000000001, 'time_perc': 0.00079706090841825256, 'count_perc': 0.000267438399256835}, {'count': 2742, 'time_avg': 0.54939059080962427, 'time_max': 192.77000000000001, 'time_sum': 1506.4289999999899, 'url': '/api/1/flash_banners/list/?server_name=AndreyIvanovich', 'time_med': 0.13300000000000001, 'time_perc': 0.00078152563582017953, 'count_perc': 0.001049093119831533}, {'count': 106, 'time_avg': 14.012367924528304, 'time_max': 23.844000000000001, 'time_sum': 1485.3110000000001, 'url': '/api/1/banners/?campaign=3431890', 'time_med': 13.8635, 'time_perc': 0.00077056975381230351, 'count_perc': 4.0555751532510025e-05}, {'count': 1398, 'time_avg': 1.0550701001430605, 'time_max': 239.65199999999999, 'time_sum': 1474.9879999999985, 'url': '/campaigns/7704673/banners/', 'time_med': 0.78100000000000003, 'time_perc': 0.00076521424808413912, 'count_perc': 0.00053487679851367}, {'count': 1175, 'time_avg': 1.2466612765957448, 'time_max': 504.72000000000003, 'time_sum': 1464.8270000000002, 'url': '/campaigns/7854372/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.77300000000000002, 'time_perc': 0.0007599427869096878, 'count_perc': 0.00044955667972357814}, {'count': 2740, 'time_avg': 0.53099124087590976, 'time_max': 206.559, 'time_sum': 1454.9159999999927, 'url': '/api/1/flash_banners/list/?server_name=AndreyVadimovich', 'time_med': 0.13300000000000001, 'time_perc': 0.0007548010241205887, 'count_perc': 0.0010483279169724289}, {'count': 1154, 'time_avg': 1.2597946273830154, 'time_max': 504.30099999999999, 'time_sum': 1453.8029999999997, 'url': '/campaigns/7854366/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.78500000000000003, 'time_perc': 0.00075422360690898264, 'count_perc': 0.00044152204970298654}, {'count': 2731, 'time_avg': 0.53135811058220095, 'time_max': 206.69999999999999, 'time_sum': 1451.1389999999908, 'url': '/api/1/flash_banners/list/?server_name=AndreyPetrovich', 'time_med': 0.13300000000000001, 'time_perc': 0.00075284154091461331, 'count_perc': 0.001044884504106461}, {'count': 128, 'time_avg': 10.994539062500003, 'time_max': 65.177000000000007, 'time_sum': 1407.3010000000004, 'url': '/sites/278/', 'time_med': 1.345, 'time_perc': 0.0007300986696454876, 'count_perc': 4.8972982982653619e-05}, {'count': 2737, 'time_avg': 0.51074388016075778, 'time_max': 181.827, 'time_sum': 1397.905999999994, 'url': '/api/1/flash_banners/list/?server_name=AndreyEfimovich', 'time_med': 0.13300000000000001, 'time_perc': 0.00072522460432376606, 'count_perc': 0.0010471801126837731}, {'count': 2730, 'time_avg': 0.49639670329670038, 'time_max': 213.78100000000001, 'time_sum': 1355.1629999999921, 'url': '/api/1/flash_banners/list/?server_name=AndreyKuzmich', 'time_med': 0.13200000000000001, 'time_perc': 0.00070304981198249824, 'count_perc': 0.0010445019026769091}, {'count': 972, 'time_avg': 1.3709259259259263, 'time_max': 503.19999999999999, 'time_sum': 1332.5400000000004, 'url': '/campaigns/7854376/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.80200000000000005, 'time_perc': 0.00069131314569477183, 'count_perc': 0.00037188858952452589}, {'count': 2739, 'time_avg': 0.48587513691127887, 'time_max': 134.34100000000001, 'time_sum': 1330.8119999999928, 'url': '/api/1/flash_banners/list/?server_name=AndreyLvovich', 'time_med': 0.13300000000000001, 'time_perc': 0.00069041667045517988, 'count_perc': 0.001047945315542877}, {'count': 6894, 'time_avg': 0.18899912967798008, 'time_max': 5.7380000000000004, 'time_sum': 1302.9599999999946, 'url': '/api/v2/banner/21456892', 'time_med': 0.161, 'time_perc': 0.00067596723273932182, 'count_perc': 0.0026376542553313595}, {'count': 6893, 'time_avg': 0.1884421877266784, 'time_max': 5.8280000000000003, 'time_sum': 1298.9319999999941, 'url': '/api/v2/banner/16848376', 'time_med': 0.159, 'time_perc': 0.00067387753235444864, 'count_perc': 0.0026372716539018078}, {'count': 7415, 'time_avg': 0.17385799055967538, 'time_max': 4.2439999999999998, 'time_sum': 1289.1569999999929, 'url': '/api/v2/banner/794450', 'time_med': 0.14699999999999999, 'time_perc': 0.00066880632548698706, 'count_perc': 0.002836989600127942}, {'count': 6893, 'time_avg': 0.18367184099811276, 'time_max': 1.462, 'time_sum': 1266.0499999999913, 'url': '/api/v2/banner/15521472', 'time_med': 0.158, 'time_perc': 0.00065681856312520411, 'count_perc': 0.0026372716539018078}, {'count': 1188, 'time_avg': 1.0488350168350111, 'time_max': 459.36900000000003, 'time_sum': 1246.0159999999933, 'url': '/', 'time_med': 0.024, 'time_perc': 0.00064642505331623202, 'count_perc': 0.00045453049830775387}, {'count': 6894, 'time_avg': 0.18007441253263606, 'time_max': 1.7749999999999999, 'time_sum': 1241.4329999999929, 'url': '/api/v2/banner/16168711', 'time_med': 0.152, 'time_perc': 0.00064404742251586628, 'count_perc': 0.0026376542553313595}, {'count': 6893, 'time_avg': 0.17895966922965237, 'time_max': 1.712, 'time_sum': 1233.5689999999938, 'url': '/api/v2/banner/16028459', 'time_med': 0.151, 'time_perc': 0.00063996763010607514, 'count_perc': 0.0026372716539018078}, {'count': 6893, 'time_avg': 0.17888423037864384, 'time_max': 1.641, 'time_sum': 1233.048999999992, 'url': '/api/v2/banner/1279875', 'time_med': 0.151, 'time_perc': 0.00063969785746453161, 'count_perc': 0.0026372716539018078}, {'count': 6894, 'time_avg': 0.1766219901363493, 'time_max': 2.661, 'time_sum': 1217.6319999999921, 'url': '/api/v2/banner/16852664', 'time_med': 0.151, 'time_perc': 0.00063169961743633264, 'count_perc': 0.0026376542553313595}, {'count': 6894, 'time_avg': 0.17497026399767845, 'time_max': 6.5709999999999997, 'time_sum': 1206.2449999999953, 'url': '/api/v2/banner/16803530', 'time_med': 0.14799999999999999, 'time_perc': 0.00062579211538009102, 'count_perc': 0.0026376542553313595}, {'count': 6893, 'time_avg': 0.17450645582474794, 'time_max': 1.744, 'time_sum': 1202.8729999999875, 'url': '/api/v2/banner/1218585', 'time_med': 0.14899999999999999, 'time_perc': 0.00062404274355839096, 'count_perc': 0.0026372716539018078}, {'count': 6893, 'time_avg': 0.17428115479471831, 'time_max': 9.1069999999999993, 'time_sum': 1201.3199999999933, 'url': '/api/v2/banner/17708598', 'time_med': 0.14699999999999999, 'time_perc': 0.00062323705718855598, 'count_perc': 0.0026372716539018078}, {'count': 6891, 'time_avg': 0.17425264838194623, 'time_max': 1.9490000000000001, 'time_sum': 1200.7749999999915, 'url': '/api/v2/banner/25398145', 'time_med': 0.14899999999999999, 'time_perc': 0.00062295431470847662, 'count_perc': 0.0026365064510427039}, {'count': 6899, 'time_avg': 0.17141020437744547, 'time_max': 25.024999999999999, 'time_sum': 1182.5589999999963, 'url': '/accounts/login/', 'time_med': 0.18099999999999999, 'time_perc': 0.00061350397155782253, 'count_perc': 0.0026395672624791194}, {'count': 784, 'time_avg': 1.5052678571428584, 'time_max': 3.8809999999999998, 'time_sum': 1180.130000000001, 'url': '/api/v2/slot/6191/groups', 'time_med': 1.3975, 'time_perc': 0.00061224382204569578, 'count_perc': 0.0002999595207687534}, {'count': 6630, 'time_avg': 0.17630754147812919, 'time_max': 1.73, 'time_sum': 1168.9189999999965, 'url': '/api/v2/banner/24824230', 'time_med': 0.14899999999999999, 'time_perc': 0.00060642762765274162, 'count_perc': 0.0025366474779296364}, {'count': 6370, 'time_avg': 0.18284081632652938, 'time_max': 1.3759999999999999, 'time_sum': 1164.6959999999922, 'url': '/api/v2/banner/227223', 'time_med': 0.155, 'time_perc': 0.00060423676252728791, 'count_perc': 0.0024371711062461214}, {'count': 6633, 'time_avg': 0.17531313131312976, 'time_max': 1.6000000000000001, 'time_sum': 1162.8519999999896, 'url': '/api/v2/banner/1717161', 'time_med': 0.14699999999999999, 'time_perc': 0.00060328010723689296, 'count_perc': 0.0025377952822182924}, {'count': 6370, 'time_avg': 0.1754054945054932, 'time_max': 4.843, 'time_sum': 1117.3329999999917, 'url': '/api/v2/banner/26350274', 'time_med': 0.14799999999999999, 'time_perc': 0.00057966514402462246, 'count_perc': 0.0024371711062461214}, {'count': 804, 'time_avg': 1.3896828358208957, 'time_max': 511.72899999999998, 'time_sum': 1117.3050000000001, 'url': '/campaigns/7854358/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.64100000000000001, 'time_perc': 0.00057965061780546685, 'count_perc': 0.00030761154935979301}, {'count': 723, 'time_avg': 1.5333526970954352, 'time_max': 50.844000000000001, 'time_sum': 1108.6139999999996, 'url': '/campaigns/?filter=active', 'time_med': 0.9524999999999999, 'time_perc': 0.00057514178313691387, 'count_perc': 0.00027662083356608252}, {'count': 28, 'time_avg': 38.68, 'time_max': 934.76099999999997, 'time_sum': 1083.04, 'url': '/agency/prices/3754/campaigns/bulk_read/', 'time_med': 5.3045, 'time_perc': 0.00056187415710842856, 'count_perc': 1.0712840027455478e-05}, {'count': 189, 'time_avg': 5.5420687830687845, 'time_max': 7.5519999999999996, 'time_sum': 1047.4510000000002, 'url': '/api/v2/slot/4246/groups', 'time_med': 5.4980000000000002, 'time_perc': 0.00054341081376253948, 'count_perc': 7.2311670185324479e-05}, {'count': 106, 'time_avg': 9.6405566037735859, 'time_max': 14.769, 'time_sum': 1021.8990000000001, 'url': '/api/1/banners/?campaign=3270941', 'time_med': 9.5554999999999986, 'time_perc': 0.00053015460119196526, 'count_perc': 4.0555751532510025e-05}, {'count': 28, 'time_avg': 36.091500000000003, 'time_max': 962.61000000000001, 'time_sum': 1010.562, 'url': '/agency/prices/3125/campaigns/bulk_read/', 'time_med': 1.901, 'time_perc': 0.00052427303881279349, 'count_perc': 1.0712840027455478e-05}, {'count': 21, 'time_avg': 47.471857142857139, 'time_max': 810.173, 'time_sum': 996.90899999999988, 'url': '/agency/campaigns_stats/?date1=29-06-2017&do=1&date_type=week&date2=29-06-2017&as_json=1', 'time_med': 8.2520000000000007, 'time_perc': 0.00051718995059167377, 'count_perc': 8.0346300205916095e-06}, {'count': 1208, 'time_avg': 0.80373178807946932, 'time_max': 10.214, 'time_sum': 970.90799999999899, 'url': '/campaigns/7854473/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.7975000000000001, 'time_perc': 0.00050370079972099791, 'count_perc': 0.00046218252689879353}, {'count': 28, 'time_avg': 33.977035714285719, 'time_max': 40.856000000000002, 'time_sum': 951.35700000000008, 'url': '/agency/campaigns/6465936/banners/bulk_read/', 'time_med': 32.639499999999998, 'time_perc': 0.00049355786719253517, 'count_perc': 1.0712840027455478e-05}, {'count': 1127, 'time_avg': 0.82856521739130307, 'time_max': 45.917000000000002, 'time_sum': 933.79299999999853, 'url': '/campaigns/7854352/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.76950000000000007, 'time_perc': 0.00048444577743088899, 'count_perc': 0.00043119181110508299}, {'count': 1167, 'time_avg': 0.77568294772922119, 'time_max': 23.125, 'time_sum': 905.22200000000112, 'url': '/campaigns/7854359/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.73899999999999999, 'time_perc': 0.00046962332715874444, 'count_perc': 0.00044649586828716226}, {'count': 56, 'time_avg': 16.076446428571426, 'time_max': 20.545000000000002, 'time_sum': 900.28099999999995, 'url': '/api/1/banners/?campaign=341529', 'time_med': 15.654, 'time_perc': 0.00046705996827054694, 'count_perc': 2.1425680054910956e-05}, {'count': 1149, 'time_avg': 0.76980243690165373, 'time_max': 18.399000000000001, 'time_sum': 884.50300000000016, 'url': '/campaigns/7876636/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.70699999999999996, 'time_perc': 0.00045887444377389248, 'count_perc': 0.00043960904255522658}, {'count': 3, 'time_avg': 294.35633333333334, 'time_max': 542.63499999999999, 'time_sum': 883.06899999999996, 'url': '/api/v2/slot/3938/groups', 'time_med': 182.68299999999999, 'time_perc': 0.00045813049383548428, 'count_perc': 1.1478042886559442e-06}, {'count': 1120, 'time_avg': 0.78689017857142918, 'time_max': 11.895, 'time_sum': 881.31700000000069, 'url': '/campaigns/7876633/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.75800000000000001, 'time_perc': 0.00045722156755090239, 'count_perc': 0.00042851360109821915}, {'count': 463, 'time_avg': 1.8991987041036735, 'time_max': 802.72699999999998, 'time_sum': 879.32900000000086, 'url': '/accounts/login/?api=1', 'time_med': 0.125, 'time_perc': 0.00045619020599054318, 'count_perc': 0.00017714446188256739}, {'count': 1144, 'time_avg': 0.7637447552447556, 'time_max': 5.3230000000000004, 'time_sum': 873.72400000000039, 'url': '/campaigns/7854362/banners/?filter=started&direct=desc&order=ctr_cnt_tzday', 'time_med': 0.76300000000000001, 'time_perc': 0.00045328236819083768, 'count_perc': 0.00043769603540746668}, {'count': 4, 'time_avg': 214.34975000000003, 'time_max': 220.24299999999999, 'time_sum': 857.39900000000011, 'url': '//api/1/banners/?stats=1&date1=29-06-2017&date2=29-06-2017', 'time_med': 214.78100000000001, 'time_perc': 0.00044481306362702174, 'count_perc': 1.5304057182079256e-06}];
    var reportDates;
    var columns = new Array();
    var lastRow = 150;
    var $table = $(".report-table-body");
    var $header = $(".report-table-header-row");
    var $selector = $(".report-date-selector");

    $(document).ready(function() {
      $(window).bind("scroll", bindScroll);
        var row = table[0];
        for (k in row) {
          columns.push(k);
        }
        columns = columns.sort();
        columns = columns.slice(columns.length -1, columns.length).concat(columns.slice(0, columns.length -1));
        drawColumns();
        drawRows(table.slice(0, lastRow));
        $(".report-table").tablesorter(); 
    });

    function drawColumns() {
      for (var i = 0; i < columns.length; i++) {
        var $th = $("<th></th>").text(columns[i])
                                .addClass("report-table-header-cell")
        $header.append($th);
      }
    }

    function drawRows(rows) {
      for (var i = 0; i < rows.length; i++) {
        var row = rows[i];
        var $row = $("<tr></tr>").addClass("report-table-body-row");
        for (var j = 0; j < columns.length; j++) {
          var columnName = columns[j];
          var $cell = $("<td></td>").addClass("report-table-body-cell");
          if (columnName == "url") {
            var url = "https://rb.mail.ru" + row[columnName];
            var $link = $("<a></a>").attr("href", url)
                                    .attr("title", url)
                                    .attr("target", "_blank")
                                    .addClass("clipped")
                                    .addClass("url")
                                    .text(row[columnName]);
            $cell.addClass("report-table-body-cell-url");
            $cell.append($link);
          }
          else {
            $cell.text(row[columnName]);
            if (columnName == "time_avg" && row[columnName] > 0.9) {
              $cell.addClass("alert");
            }
          }
          $row.append($cell);
        }
        $table.append($row);
      }
      $(".report-table").trigger("update"); 
    }

    function bindScroll() {
      if($(window).scrollTop() == $(document).height() - $(window).height()) {
        if (lastRow < 1000) {
          drawRows(table.slice(lastRow, lastRow + 50));
          lastRow += 50;
        }
      }
    }

  }(window.jQuery)
  </script>
</body>
</html>
